# RSSL XML Trace Data Converter Tool

The utility is console application which was designed for decoding and converting XML Fragments inside RSSL Tracing log generated by RFA C++/.NET and EMA/ETA C/C++. It can decode Hex string inside fieldEntry to the actual value according to data dictionary (RDMFieldDictionary and enumtype.def)

## Prerequisites

Required software components:

* [.NET Core Framework](https://www.microsoft.com/net/download/dotnet-core/2.1)-.NET Framework version 2.1 or later version
* [Visual Studio 2017](https://visualstudio.microsoft.com/downloads/)- We use Visual Studio 2017 to develop the application on Windows.

Optional software components:

* [Visual Studio Code](https://code.visualstudio.com/) - IDE for .NET Core development on Windows and mac OS. 
* Other IDE's such as: [Rider](https://www.jetbrains.com/rider/) - IDE From Jetbrain for .NET Core projects on mac OS.

## Getting Started

The application was implemented using .NET standard library and .NET Core 2.1 framework so that user can rebuild and republish the application on .NET Core supported platforms such as Windows, Linux, and Mac OS. Please find more details about the build and publish command from [MSDN](https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-build?tabs=netcore2x). 

The console application requires RDMFieldDictionary and enumtype.def to decode the raw data in Hex string format to the actual value. The user can update dictionary inside folder Dict to the latest version. In case that the application unable to find field definition for some specific fid or custom fid and enum value, it will instead write original Hex string in the tracing log. Note that you can download latest version of data dictionary from the [Software Download page](https://customers.thomsonreuters.com/a/support/technical/softwaredownload/default.aspx) and then search for product name "TREP Template service pack".


# Overview

The utility is console application which was designed for decoding and converting XML Fragments inside RSSL Tracing log generated by RFA C++/.NET and EMA/ETA C/C++. It can decode Hex string inside fieldEntry to the actual value according to data dictionary from RDMFieldDictionary and enumtype.def. The utility is command line base console application which developed by using .NET Core Framework so that user can build and run the console application on Windows, Linux and Mac OS according to [.NET Core](https://www.microsoft.com/net) support platforms.

Typically, when using RFA or EMA application requesting data for Market Price and Level 2 Market By Price or Market by Order, the response message usually contains a field entry with a field value in Hex string format. The utility can be used to read the XML Fragment and then convert the Hex string in the field entry to actual data according to the data type from the data dictionary. Moreover, it can be used to decode the new [MRN Real-Time News](https://developers.thomsonreuters.com/article/introduction-machine-readable-news-mrn-elektron-message-api-ema) which is the data from RIC MRN_STORY. The utility also have application's logic to scan XML fragments and consolidate a series of MRN compressed data and then unpack the compressed buffer to a raw JSON data. Then it will write decoded data along with MRN JSON data to a new XML file. The user can open the new XML file with an XML editor to find specific data they want so that it could help a developer investigate a data relate issue or verify the actual data API received.

## How to collect RSSL Tracing log

The RSSL tracing log was provided for troubleshooting purpose and it's not turn on by default. User may use the following instruction to turn on the log in RFA C++/.NET and EMA C++ application. Please note that currently the utility does not support the trace from RFA and EMA java as it can't provide a valid XML trace format. There are some garbage or unexpected text inside the XML fragment and there are mixing between simple log and XML data inside the trace so that it cause the XML parser error. If you want to use the trace log from EMA java with the application, the workaround is to manually remove invalid text or string from XML fragment and save it to a valid xml file.

### RFA C++ and .NET application
User has to add the following configuration to turn on RSSL tracing log. 

```
\Connections\<Connection_RSSL>\connectionType    = "RSSL"
\Connections\<Connection_RSSL>\rsslPort     = "<RSSL Port>"
\Connections\<Connection_RSSL>\hostName        = "<ADS/Provider Hostname>"
\Connections\<Connection_RSSL>\traceMsg = false
\Connections\<Connection_RSSL>\traceMsgToFile = true
\Connections\<Connection_RSSL>\tracePing = true
\Connections\<Connection_RSSL>\traceMsgFileName   = "RSSLConsumerTrace"
\Connections\<Connection_RSSL>\traceMsgDomains = "all"
\Connections\<Connection_RSSL>\traceRespMsg = true
\Connections\<Connection_RSSL>\traceReqMsg = true
\Connections\<Connection_RSSL>\traceMsgHex = false 
\Connections\<Connection_RSSL>\traceMsgMaxMsgSize = 200000000
\Connections\<Connection_RSSL>\traceMsgMultipleFiles = true

```
Note that traceMsgFileName is the output xml file which RFA will generate under running directory. From above example, the output will be RSSLConsumerTrace_<pid>.xml where <pid> is the process id of the application.

### EMA C++ application

For EMA C++ application, user has to copy EmaConfig.xml which provided in EMA Examples folder to project directory or running directory and then add below XML to EMA configuration file under section Consumer to turn on the tracing log. Note that you have to set XmlTraceToFile to 1 to turn on the log and set it to 0 to turn off the log.

```
<DefaultConsumer value="Consumer_1"/>
<Consumer>
    <Name value="Consumer_1"/>
    ...
    <XmlTraceToFile value="1"/>
    <XmlTraceToStdout value="0"/>
</Consumer>
		
```
Though you are setting server name/ip and RSSL port in application codes and not using Channel config from the configuration file, you can also copy the configuration to the running directory and set the config under DefaultConsumer or DefaultProvider section. Above sample set DefaultConsumer to Consumer_1 then EMA internal will check the value inside the configuration file and verify option to turn on trace file from Consumer_1. And EMA will generate the RSSL Tracing log file name EmaTrace_<id>.xml under the running directory.

## Utility download

The project and readme is available for Download within the [GitHub](https://github.com/TR-API-Samples/Example.EMARFACPP.Tool.RSSLTraceViewer).

## Running the Utility

To run the utility from command line, user can run "__dotnet build__" and "__dotnet run__" command to build and run the application. Alternative way is using "__dotnet publish__" command to create an executable file and then run the executable file directly.

### Launching the tool from the console:

Change folder to "<GitHub Repo>\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter", you should see rsslxmltracedataconverter.csproj in the folder. Then run command

```
dotnet build
```

To build the project or just type __"dotnet run"__ to run the application. It will automatically compile and build the project and run the application.
Then it will show the following output after calling __dotnet run__
```
rsslxmltracedataconverter 1.0.0
Copyright (C) 2018 Refinitiv
ERROR(S):
Required option 's, source' is missing.

  -s, --source      Required. Absolution path to RSSL XML Trace file

  -o, --output      (Default: output.xml) Absolute path to Xml output file, default is output.xml
                    generate under running directory.

  -r, --rdmdict     (Default: ./Dict/RDMFieldDictionary) Absolution path to RDMFieldDictionary
                    file. Default reading dictionary form /Dict/RDMFieldDictionary

  -e, --enumdict    (Default: ./Dict/enumtype.def) Absolution path to enumtype.def file. Default
                    reading dictionary form /Dict/enumtype.def

  --verbose         (Default: false) Prints all messages to standard output.

  --help            Display this help screen.

  --version         Display version information.

```
#### Command-line Options

Based on output from previous section, it required one argument that is "-s" following by RSSL Trace file name you want to convert. You can also specify XML output file by using -o following by output file name. If you did not set output the application will create file name output.xml for you. Note that "-r" and "-e" is optional command line argument to specify path to your own data dictionary. By default it will read the dictionary from folder "<RunningDirectory>\Dict". 

Below is sample output after running the application with RSSL Tracing log.
```
c:\dotnet run -s C:\SampleTrace\MRNViewerTrace_6480.xml -o rssltraceoutput.xml
Using launch settings from C:\ForGitHub2018\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\Properties\launchSettings.json...
Start loading and processing Xml file C:\SampleTrace\MRNViewerTrace_6480.xml please wait
Finished reading and processing Xml data, please find output from rssltraceoutput.xml
```
And below is sample output trace file which contains decoded MRN data, the application will write MRN JSON data in comment tag.

Original XML Fragment.

```XML
<!-- Incoming Message from '192.168.27.46:14002' on 'localhost' interface -->
<!-- Time: 16:23:08:201 -->
<!-- rwfMajorVer="14" rwfMinorVer="0" -->
<updateMsg domainType="RSSL_DMT_NEWS_TEXT_ANALYTICS" streamId="3" containerType="RSSL_DT_FIELD_LIST" flags="0x1D2 (RSSL_UPMF_HAS_PERM_DATA|RSSL_UPMF_HAS_SEQ_NUM|RSSL_UPMF_DO_NOT_CACHE|RSSL_UPMF_DO_NOT_CONFLATE|RSSL_UPMF_DO_NOT_RIPPLE)" updateType="0 (RDM_UPD_EVENT_TYPE_UNSPECIFIED)" seqNum="54878" permData="0308 4310 153C" dataSize="1917">
    <dataBody>
        <fieldList flags="0x8 (RSSL_FLF_HAS_STANDARD_DATA)">
            <fieldEntry fieldId="4148" data="0203 95A0"/>
            <fieldEntry fieldId="17" data="0A0A 07E2"/>
            <fieldEntry fieldId="8593" data="5354 4F52 59"/>
            <fieldEntry fieldId="8506" data="32"/>
            <fieldEntry fieldId="11787" data="3130"/>
            <fieldEntry fieldId="32480" data="0708"/>
            <fieldEntry fieldId="32479" data="01"/>
            <fieldEntry fieldId="4271" data="4E44 4C33 3644 5173 735F 3138 3130 3130 3234 5275 7543 6163 2F49 6C5A 542B 4F6B
                6769 5A6F 7258 6E4A 787A 744F 3166 672F 565A 746A 6D57"/>
            <fieldEntry fieldId="12215" data="4844 435F 5052 445F 41"/>
            <fieldEntry fieldId="32641" data="1F8B 0800 0000 0000 02FF 8D57 6B73 DBB8 15FD DE5F 81D1 1727 2DF5 B493 78F5 A563
                CBF2 6337 B6B4 B1B3 6953 753A 1079 2922 0601 2E00 4ACB 76FA DF7B 2E48 2A4E B7D3
                499C 2140 3C2E EFE3 DC73 AFFE 3590 3ADC 6583 F9C0 3C5C BD3F 7D7B F5B3 F783 6420
                EB4C 9149 C90F E67F 1B3C ACE7 EB8F 974F 1783 BF27 83AD CD1A 1CDE 985B B927 D1D8
                5A14 32E3 D189 5CD7 E28B DCFE 59DC E5DD 064E 48A1 ADD9 8940 AE14 05E1 5B85 48AD
                C954 50D6 24C2 D883 507E 6342 4122 A812 0FDB 5E6B 053A 22B1 9769 AA8C E4F3 A38D
                D998 9F70 C76B 6AC4 C2D6 2655 FAC4 8B75 BDD5 2A15 B7AD F840 B2DC 9857 4508 959F
                8FC7 87C3 61F4 DCDD 19ED EC7E 543F 8F1D 7995 9109 7EDC AA34 AEA2 8461 FBF6 1A2A
                0959 5578 51AC BADD 18A9 B560 1DF7 B536 E4E4 5693 D839 5B57 9E15 AE9C 0D94 063E
                507A D27B C26A 0111 0765 60B6 D836 6247 2140 D4C6 F4C6 5016 6DB9 1046 7AA9 85AF
                9C6C 3A4B 89BF 6EF3 9C1C 652C 3D1C AC90 06D3 82BD D190 74C2 EA4C A485 D299 23C3
                7B1B 539B 8CDC 70FA D60B 65C4 890C C229 FF7C D2E9 3812 8BFE 3076 1DA5 54B1 3745
                AAA5 F751 B64F 0B6B 7514 EEC5 34D9 9859 224E 1371 1637 DF08 A9BD 8DF7 1422 C36E
                68F5 85B0 EE22 6652 6C55 D67A 83F6 706D 7F8E 24D4 B379 EB3D E56A 1F0D BFFE AFC8
                420D 472F ADAE C856 70B2 DCE1 F5ED 9B4E 330B D3F7 E412 C1E1 80E8 9D91 266C CCC1
                9604 2C75 570E 0A18 60CC 0D23 E64A CA54 0A17 1F41 C72E 4A35 E08D D022 DE2E 884C
                7992 9E60 76A6 E496 02F9 4478 1801 8DA4 0F45 2913 B175 D6C0 E341 614B C30B 2E7A
                E659 6506 40EC EE77 51B2 981D 0AC6 0CEE 97D6 C12D BA11 764B 587F 9551 8E08 6790
                2B2E EFEF 60B0 389B C47B 720B CB5E 47DF AC5F D871 20F9 4C7C 4195 650D 68F8 C607
                80AC FB14 2927 0A5B 7B2A 2222 AC09 320D D0F0 086F 98BA 3131 FF7C 40C0 FA75 C5FE
                60F5 0A78 AE15 D63B AFB0 3112 1D4E 5415 5847 194F BB13 1F13 C11E 2488 21E1 681C
                AD8D 9738 C4A5 C4D5 783A 5E34 8C55 9E3B F612 E70D 7FCA 79CE FD54 1A96 0768 6D61
                62AE 02F2 DD96 BF4B FA16 300B AD9D 7824 08BC B2C6 90D6 4D22 FE07 132C E416 FE0D
                E29E CA2D 3E9B E3BB 1D2B B091 8F36 85E9 1006 FD10 62A9 B239 CB3E B98E A6B0 F25F
                AC53 A161 D55B 8724 91D4 980E 8CA8 0D16 90AE 2600 0F75 0077 0560 21A7 2167 2652
                DAC4 0C57 1A0C E191 73B7 F640 11AC 300C A6C2 4881 D706 C872 0A31 8BBA B5CE E9B1
                7E84 4F47 2D12 D8E6 3C66 7532 C8D2 B662 D0A6 B6AC 4056 2F9C 73F2 5450 D3C1 9AFA
                A0FC 5FF8 809C E043 1E23 73E8 26EA FE22 477C 9D16 BC6D A876 56DB 5DCC 2184 D03A
                1CEF 9300 430D 8560 08B8 A5DD 8F89 D4E6 D5C6 8018 11F1 D2B7 E16F 53AB 455B 97BB
                22A6 EE48 5C44 D3E1 E648 6F9E 2283 320A 83B3 599D B24A 9144 24F4 3924 9C55 2408
                6481 9D3D 1D79 33EF C2C8 1C01 D2E8 7CF3 CB57 2841 4DC6 672B 1C09 89EF 232B 5E30
                B8DC F176 CB5D 1596 DA54 E922 B631 8574 6507 52A0 E205 C78F C49D A8DD 0E4A 7188
                2D74 E1AB 41B7 5C26 7F87 E924 1695 80E0 88BA 6A75 66EA 1343 41BE 2206 2928 A383
                0573 6B18 461C F4B8 6893 5F54 8031 27B9 CD37 06F5 92A1 D1F3 3CA7 E4AF 35EA 57DE
                1C11 F2B2 BE78 9923 4C5F 5DC8 22B9 6403 A80C 6BD4 AB68 62B4 15F5 3896 C182 BED6
                2F2E C648 2791 5973 C25E 04C6 6B58 1C8B A423 24A2 8CF7 6D1D B6C8 8DE7 6FEA 612C
                5888 449B A25C 2C84 CA8F 9D84 7CE9 2781 0A15 FA7B 7CC2 1093 2754 2C98 540C 45C1
                B09E 6103 4F47 9663 DB8E 511A 9DB0 F98F 0A29 839D 2AEA 62DB EEE2 66CD B8AC 38A8
                3255 1C75 CBD0 EB95 6146 23AD 768A 8B7D B099 6C3D 7911 40B2 45C9 8EDF 983F 8AAF
                FF56 0E67 6316 D8B4 E6FD AE07 410B D2B7 1F00 AF1F A596 3B90 0E71 43D6 043D 433E
                8457 E2CB 3097 A5D2 CD90 0D18 C280 F1EB 8DB9 521E B51A ED91 FBA6 01BA 27A4 4765
                B50A A097 4B0B 70EC 8A9E 0B45 EC68 7C41 5D62 7171 E0AA 0C9F 4E27 6295 0614 2448
                9B4D A6E7 31F8 8C09 AB49 C722 5181 01A2 D97D 4629 8359 D986 2496 9958 C438 D48A
                9B32 E817 9C02 2762 11DD 4EDB 8E25 4004 6A6F 8801 CBF0 021A E6EA 9E7C AB83 882A
                4C7E 98CF 4EE7 9377 E2E3 D382 6DE4 BF57 8BD7 B0A6 6AE0 D722 B4C7 86E2 BB8C 47FF
                9A2B E7C3 22F2 32F7 B67C 7B38 9DE0 FF53 F7A9 1F46 B3F3 F3CF 3809 AECA D0E7 114E
                7D9F 6787 62DD D1C5 5FBB E045 03F9 455C C7E0 896B 46DF B5AE 215E F1E7 8F9D F53F
                A6E7 D3C9 7432 3BFB 50D7 0B99 8EEF F4E7 A73F AD9E 77EA B375 7F31 3FFE F6CF B09A
                E6BB F12F 9FC3 97F2 13DF 061B 71B5 F5AB 1C8D 38DA 6F2D CDAE 4657 04A1 6470 00F5
                DBE3 F5A9 A9B0 34C3 3B50 D2BE 0C02 FD16 C615 70C3 E780 B73D 6ABF 6365 1E63 37CF
                8BF5 F631 C850 A3C9 1FE0 3B61 5EC7 128D 1D5F 6FBF C0C2 D8FD 5FCE A767 E758 C3F8
                E62D C69B F96C 1A87 D3F8 7CF7 631C 2EE2 F3F2 0386 FBF9 F4E7 AB38 9ECE E2B0 7C17
                87BB B338 3CC4 E71A CF87 D97C 79BF BC58 76D3 8F8B 7EF2 61D5 6DDF 4C27 DDE2 CDEC
                387B D74F CEFB C965 3F76 A26E 960F EDE4 7679 D14F 16DD EC7D BFF7 70F1 B4EA 043C
                2C3F 7D68 67AB E5E2 AA5B 5CDF DE77 8BEB D5FB 76F2 B85A DCB5 B34F CB8F FC6B 8829
                FC91 7EAD F9A7 D260 3E4D 065C 054C 8A5F 48A7 C900 B5C0 2363 BE03 85FF FEC3 7F00
                5350 DB8A 870D 0000"/>
        </fieldList>
    </dataBody>
</updateMsg>
```

Decoded data inside fieldEntry element containing additional attributes in the fieldEntry that are __fieldName__ and __decodedData__. For the updateMsg type for domainType __RSSL_DMT_NEWS_TEXT_ANALYTICS__, it has additional XML comments after the last MRN fragment containing the same GUID.

```XML
<!-- Incoming Message from '192.168.27.46:14002' on 'localhost' interface -->
<!-- Time: 16:23:08:831 -->
<!-- rwfMajorVer="14" rwfMinorVer="0" -->
<updateMsg domainType="RSSL_DMT_NEWS_TEXT_ANALYTICS" streamId="3" containerType="RSSL_DT_FIELD_LIST" flags="0x1D2 (RSSL_UPMF_HAS_PERM_DATA|RSSL_UPMF_HAS_SEQ_NUM|RSSL_UPMF_DO_NOT_CACHE|RSSL_UPMF_DO_NOT_CONFLATE|RSSL_UPMF_DO_NOT_RIPPLE)" updateType="0 (RDM_UPD_EVENT_TYPE_UNSPECIFIED)" seqNum="54910" permData="0308 4310 127B 1221 4B12 287C" dataSize="698">
    <dataBody>
        <fieldList flags="0x8 (RSSL_FLF_HAS_STANDARD_DATA)">
            <fieldEntry fieldId="4148" fieldName="TIMACT_MS" data="0203 979F" decodedData="9:23:9:855" />
            <fieldEntry fieldId="17" fieldName="ACTIV_DATE" data="0A0A 07E2" decodedData="10/10/2018" />
            <fieldEntry fieldId="8593" fieldName="MRN_TYPE" data="5354 4F52 59" decodedData="STORY" />
            <fieldEntry fieldId="8506" fieldName="MRN_V_MAJ" data="32" decodedData="2" />
            <fieldEntry fieldId="11787" fieldName="MRN_V_MIN" data="3130" decodedData="10" />
            <fieldEntry fieldId="32480" fieldName="TOT_SIZE" data="0245" decodedData="581" />
            <fieldEntry fieldId="32479" fieldName="FRAG_NUM" data="01" decodedData="1" />
            <fieldEntry fieldId="4271" fieldName="GUID" data="4253 4562 7050 5177 745F 3138 3130 3130 3259 4D56 3451 386A 4974 744D 4E4C 6767                 4C53 5231 6B36 6D41 4E53 7656 592F 6636 4F4A 6572 7132" decodedData="BSEbpPQwt_1810102YMV4Q8jIttMNLggLSR1k6mANSvVY/f6OJerq2" />
            <fieldEntry fieldId="12215" fieldName="MRN_SRC" data="4844 435F 5052 445F 41" decodedData="HDC_PRD_A" />
            <fieldEntry fieldId="32641" fieldName="FRAGMENT" data="1F8B 0800 0000 0000 02FF 8D53 DB4E DB40 107D EF57 ACF6 A14F 21BE 0542 5642 1524                 8106 2506 620A A24D 55AD ED71 B2E0 ACCD EE2C 1455 FDF7 CEC6 2D6A 5F2A 244B 73D9                 9933 B7E3 1F5C D638 2BB9 E0FA 249B E6ED E5D5 33F2 1E97 AE54 A00B B05C 7CE1 E9A5                 A0B7 6372 775A DA69 E374 F9AA 1CF3 AF3D 9E37 E50B 01AD F41D 5876 22F5 039B 63C9                 9E54 094C A165 3520 8261 A544 28D9 4581 4D4E 5638 EAB1 388C 0E7B 6C23 2D53 BA6A                 CC96 9EA9 0A93 79E3 70A5 33A4 842D 6864 4DC5 2690 23CB A070 46A1 021B A4E3 8965                 94C3 7003 AC05 A39A 9281 2E09 2183 96D2 7C89 1DFC 4AB7 CE58 2709 061B 964D 4F66                 6CAC 4CE1 6A69 580E D228 BD66 062A 307E 6AA6 9B3E 1BCF 96C1 6C31 0926 A77B 5170                 300C 0866 D835 BFD2 E74E 034B C25D EBC3 FE4A AFF4 06B1 1541 D096 55DF 80A3 396D                 BF68 B6DE D6F0 6CFF C8BE B4ED 0775 3448 C2FD 5191 E455 08C9 707F 10BD 7747 CE68                 E123 B6B5 F82B 5FF8 DEA3 300A C5EE 3A67 87B7 E703 5F8D F65E 2963 716C C037 444B                 F781 7B51 48DF 7538 1271 22C2 517F 3818 7EA6 C80D C8B2 561A 28EA 9FC3 ECB1 B7AD                 F63F 6B25 74E5 ABBF 52E7 5BD7 6E7C B7B8 195C 1DDE CF10 17E9 7CBD 9E67 CBE8 E160                 7B9C 664F 3777 4175 7071 0EE6 31F6 D9DA A2F4 3CBB A888 69C4 A15A EAB5 936B DF2C                 F831 B760 2D99 D72F 2DB9 62B2 D5F6 B7C1 11BE 63D0 D652 F9B8 D634 9E68 86FC 69E6                 49EA 7D2E F713 3A22 31A7 3228 9C95 790D F462 5D7E 0F05 EED8 BD10 D1D5 847C 0B91                 C49D F8B8 13E9 27CF EE58 CC3B BEC7 6271 7D39 39ED D474 7ABB ECB4 E5F4 CC53 1FE5                 0364 F0E8 3C7B B888 7ADC 9935 E9F4 3B24 3DFE 44D7 548D 7EC3 B17E BEFB 050F 719E                 4B90 0300 00" decodedData="1F8B08000000000002FF8D53DB4EDB40107DEF57ACF6A14F21BE05425642152481062506620AA24D55ADED71B2E0ACCDEE2C1455FDF7CEC62D6A5F2A244B73D99933B7E31F5CD6382BB9E0FA249BE6EDE5D533F21E97AE54A00BB05C7CE1E9A5A0B76372775ADA69E374F9AA1CF3AF3D9E37E50B01ADF41D587622F5039B63C99E54094CA16535208261A54428D945814D4E5638EAB1388C0E7B6C232D53BA6ACC969EA90A9379E370A533A4842D68644DC5269023CBA07046A1021BA4E3896594C37003AC05A39A92812E09218396D27C891DFC4AB7CE582709061B964D4F666CAC4CE16A69580ED228BD66062A307E6AA69B3E1BCF96C16C310926A77B5170300C0866D835BFD2E74E034BC25DEBC3FE4AAFF406B11541D09655DF80A3396DBF68B6DED6F06CFFC8BEB4ED07753448C2FD5191E45508C9707F10BD7747CE68E123B6B5F82B5FF8DEA3300AC5EE3A6787B7E7035F8DF65E2963716CC037444BF7817B5148DF7538127122C2517F38187EA6C80DC8B2561A28EA9FC3ECB1B7ADF63F6B2574E5ABBF52E75BD76E7CB7B8195C1DDECF1017E97CBD9E67CBE8E1607B9C664F3777417570710EE631F6D9DAA2F43CBBA88869C4A15AEAB5936BDF2CF831B7602D99D72F2DB962B2D5F6B7C111BE63D0D652F9B8D6349E6886FC69E649EA7D2EF7133A2231A732289C95790DF4625D7E0F05EED8BD10D1D5847C0B91C49DF8B813E927CFEE58CC3BBEC762717D3939EDD4747ABBECB4E5F4CC531FE50364F0E83C7BB8887ADC9935E9F43B243DFE44D7548D7EC3B17EBEFB050F719E4B90030000" />
        </fieldList>
    </dataBody>
</updateMsg>
<!--{
  "altId": "nBSEbpPQwt",
  "audiences": [
    "NP:BSEA",
    "NP:BSEN",
    "NP:CNR",
    "NP:CNRA"
  ],
  "body": "\nYes Bank Ltd vide its letter dated October 09, 2018, has informed BSE about\nStatement of Debt Securities/NCDs for the period ended September 2018,\npursuant to SEBI Circular bearing reference no. CIR/IMD/DF-1/67/2017 dated\nJune 30, 2017.\n\nhttp://pdf.reuters.com/pdfnews/pdfnews.asp?i=43059c3bf0e37541&u=urn:newsml:reuters.com:20181010:nBSEbG8WJ4\n\n",
  "firstCreated": "2018-10-10T09:23:09.747Z",
  "headline": "Yes Bank Ltd - Statement of Debt Securities/NCDs for period ended September 2018",
  "id": "BSEbpPQwt_1810102YMV4Q8jIttMNLggLSR1k6mANSvVY/f6OJerq2",
  "instancesOf": [],
  "language": "en",
  "messageType": 2,
  "mimeType": "text/plain",
  "provider": "NS:BSE",
  "pubStatus": "stat:usable",
  "subjects": [
    "M:1QD",
    "M:32",
    "M:3H",
    "M:NU",
    "N2:LEN",
    "N2:MTPDF",
    "N2:NEWR",
    "N2:REG"
  ],
  "takeSequence": 1,
  "urgency": 3,
  "versionCreated": "2018-10-10T09:23:09.747Z"
}-->
```
There are additional command line option "--verbose" which can shows some progress when the application processing the data. Below is the sample output.

```
dotnet run -s C:\SampleTrace\RSSLConsumerTrace_8800_MARKET_BY_ORDER.xml --verbose
Using launch settings from C:\ForGitHub2018\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\Properties\launchSettings.json...
Loading RDMFieldDictionary from ./Dict/RDMFieldDictionary
Loading RDMFieldDictionary completed.

Loading enumtype.def from ./Dict/enumtype.def
Loading enumtype.def completed.
Start reading and processing XML data from C:\SampleTrace\RSSLConsumerTrace_8800_MARKET_BY_ORDER.xml
Processing completed 5% 1263/25252 elements
Processing completed 19% 4798/25252 elements
Processing completed 35% 8839/25252 elements
Processing completed 48% 12121/25252 elements
Processing completed 65% 16414/25252 elements
Processing completed 78% 19697/25252 elements
Processing completed 92% 23232/25252 elements
Processing completed 100% 25252/25252 elements
Finished reading and processing Xml data, please find output from output.xml

```
Below is the sample output for the Market By Order domain when using the application with above sample trace file.
```XML
<!-- Incoming Message from '192.168.27.46:14002' on 'localhost' interface -->
<!-- Time: 13:05:16:687 -->
<!-- rwfMajorVer="14" rwfMinorVer="0" -->
<refreshMsg domainType="RSSL_DMT_MARKET_BY_ORDER" streamId="4" containerType="RSSL_DT_MAP" flags="0xFA (RSSL_RFMF_HAS_PERM_DATA|RSSL_RFMF_HAS_MSG_KEY|RSSL_RFMF_HAS_SEQ_NUM|RSSL_RFMF_SOLICITED|RSSL_RFMF_REFRESH_COMPLETE|RSSL_RFMF_HAS_QOS)" groupId="2" seqNum="15472" permData="0308 4249 50C0" qosDynamic="0" qosRate="1" qosTimeliness="1" dataState="RSSL_DATA_OK" streamState="RSSL_STREAM_OPEN" code="RSSL_SC_NONE" text="All is well" dataSize="937">
    <key flags="0x7 (RSSL_MKF_HAS_SERVICE_ID|RSSL_MKF_HAS_NAME|RSSL_MKF_HAS_NAME_TYPE)" serviceId="2114" name="0005.HK" nameType="1" />
    <dataBody>
        <map flags="0x0" countHint="0" keyPrimitiveType="RSSL_DT_BUFFER" containerType="RSSL_DT_FIELD_LIST">
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@13F9EC03">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3333 3531 3435 3938 37" decodedData="335145987" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 0D24" decodedData="68.9" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="02" decodedData="ASK(2)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E01 90" decodedData="400" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="6984 67" decodedData="1:55:15:175" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@4353803">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3730 3539 3636 3131" decodedData="70596611" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 03C4" decodedData="66.5" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E03 20" decodedData="800" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="55AF 73" decodedData="1:33:35:475" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@3F036903">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3130 3537 3138 3830 3939" decodedData="1057188099" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 0842" decodedData="67.65" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E06 40" decodedData="1600" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="0141 6B02" decodedData="5:51:4:450" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@676503">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3637 3736 3036 37" decodedData="6776067" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 0360" decodedData="66.4" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E03 20" decodedData="800" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="493E C8" decodedData="1:20:0:200" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@2928D703">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3639 3035 3432 3333 39" decodedData="690542339" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 07AC" decodedData="67.5" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E04 B0" decodedData="1200" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="9C82 68" decodedData="2:50:57:0" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@133EF03">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3230 3138 3037 3339" decodedData="20180739" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 04BE" decodedData="66.75" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E0C 80" decodedData="3200" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="52CB 82" decodedData="1:30:26:50" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@40064F03">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3130 3734 3135 3532 3637" decodedData="1074155267" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 07DE" decodedData="67.55" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E5D C0" decodedData="24000" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="0148 795B" decodedData="5:58:46:875" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@1C4E1E03">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3437 3438 3831 3533 39" decodedData="474881539" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 07AC" decodedData="67.5" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E03 20" decodedData="800" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="79B5 6C" decodedData="2:12:56:300" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@FB103">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3130 3238 3335 35" decodedData="1028355" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 1940" decodedData="72" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="02" decodedData="ASK(2)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E51 40" decodedData="20800" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="493E AF" decodedData="1:20:0:175" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@19C503">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3136 3838 3833 35" decodedData="1688835" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 10A8" decodedData="69.8" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="02" decodedData="ASK(2)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E03 20" decodedData="800" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="493E AF" decodedData="1:20:0:175" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@5FDF003">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3130 3035 3238 3133 31" decodedData="100528131" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 0716" decodedData="67.35" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E09 60" decodedData="2400" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="570A 9E" decodedData="1:35:4:350" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@FFE903">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3136 3737 3133 3331" decodedData="16771331" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 05B8" decodedData="67" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E07 D0" decodedData="2000" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="52A4 72" decodedData="1:30:16:50" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@D68203">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3134 3035 3739 3837" decodedData="14057987" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 07AC" decodedData="67.5" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E03 20" decodedData="800" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="5289 1A" decodedData="1:30:9:50" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@47D003">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3437 3036 3330 37" decodedData="4706307" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 0360" decodedData="66.4" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="01" decodedData="BID(1)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E27 10" decodedData="10000" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="493E C8" decodedData="1:20:0:200" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
            <mapEntry flags="0x0" action="RSSL_MPEA_ADD_ENTRY" key="5@250003">
                <fieldList flags="0x9 (RSSL_FLF_HAS_FIELD_LIST_INFO|RSSL_FLF_HAS_STANDARD_DATA)" fieldListNum="32767" dictionaryId="1">
                    <fieldEntry fieldId="3426" fieldName="ORDER_ID" data="3234 3234 3833 35" decodedData="2424835" />
                    <fieldEntry fieldId="3427" fieldName="ORDER_PRC" data="0B01 2CC8" decodedData="77" />
                    <fieldEntry fieldId="3428" fieldName="ORDER_SIDE" data="02" decodedData="ASK(2)" />
                    <fieldEntry fieldId="3429" fieldName="ORDER_SIZE" data="0E15 E0" decodedData="5600" />
                    <fieldEntry fieldId="6520" fieldName="PR_TIM_MS" data="493E AF" decodedData="1:20:0:175" />
                    <fieldEntry fieldId="6522" fieldName="PR_DATE" data="040A 07E2" decodedData="4/10/2018" />
                </fieldList>
            </mapEntry>
        </map>
    </dataBody>
</refreshMsg>
```  
### Launching the tool from execuable file

There is an option for .NET Core application to publish the project to native executable file and then you can run the application like command line based application on windows, mac os and linux.

Please refer to [MSDN Document](https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-publish?tabs=netcore21) for dotnet command line option to publish project.

On Windows, you can call
```
dotnet publish -c release -r win-x64
```
You should see below output when running the command line
```
C:\gitrepo\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter>dotnet publish -c release -r win-x64
Microsoft (R) Build Engine version 15.7.179.6572 for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restoring packages for C:\gitrepo\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\rsslxmltracedataconverter.csproj...
  Generating MSBuild file C:\gitrepo\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\obj\rsslxmltracedataconverter.csproj.nuget.g.props.
  Generating MSBuild file C:\gitrepo\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\obj\rsslxmltracedataconverter.csproj.nuget.g.targets.
  Restore completed in 1.58 sec for C:\gitrepo\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\rsslxmltracedataconverter.csproj.
  rsslxmltracedataconverter -> C:\gitrepo\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\bin\release\netcoreapp2.1\win-x64\rsslxmltracedataconverter.dll
          1 file(s) copied.
          1 file(s) copied.
  rsslxmltracedataconverter -> C:\gitrepo\Example.EMARFACPP.Tool.RSSLTraceViewer\rsslxmltracedataconverter\bin\release\netcoreapp2.1\win-x64\publish\

```

You can find The executable file __rsslxmltracedataconverter.exe__ under folder "<Project Dir>\bin\release\netcoreapp2.1\win-x64" then you can copy or share the folder instead of using __dotnet__ command.

For Mac OS and Linux you can use the same command line but you have to specify the right Runtime Identifier(__win-x64__ from my sample) after "-r". Please find the list and supported OS from [rid-catalog page](https://docs.microsoft.com/en-us/dotnet/core/rid-catalog).

## Contributing

Please read [CONTRIBUTING.md](https://gist.github.com/PurpleBooth/b24679402957c63ec426) for details on our code of conduct, and the process for submitting pull requests to us.

## Authors

* **Moragodkrit Chumsri** - Release 1.0.  *Initial work*


## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details
